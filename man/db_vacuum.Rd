% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/maintenance.R
\name{db_vacuum}
\alias{db_vacuum}
\title{Vacuum old snapshots from DuckLake}
\usage{
db_vacuum(older_than = "30 days", dry_run = TRUE)
}
\arguments{
\item{older_than}{Snapshots older than this will be removed. Can be:
\itemize{
\item A difftime or lubridate duration (e.g. \code{as.difftime(7, units = "days")})
\item A character string parseable by DuckDB (e.g. "7 days", "1 month")
\item A POSIXct timestamp (snapshots before this time are removed)
}}

\item{dry_run}{If TRUE (default), reports what would be deleted without actually deleting.
Set to FALSE to perform the actual cleanup.}
}
\value{
A data.frame summarising what was (or would be) cleaned up
}
\description{
Removes old snapshots and their associated data files that are
no longer needed. This reclaims storage space by deleting data that is not
referenced by any snapshot within the retention period.
}
\examples{
\dontrun{
db_lake_connect()

# See what would be cleaned up (dry run)
db_vacuum(older_than = "30 days")

# Actually clean up
db_vacuum(older_than = "30 days", dry_run = FALSE)
}
}
